<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>108ç§è®¤çŸ¥æ­¦å™¨ - è®¡åˆ’æ</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&family=Noto+Serif+SC:wght@400;700&family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <!-- RemixIcon -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            black: '#0a0a0a',
                            white: '#f4f4f0',
                            accent: '#FF4D00',
                            blue: '#0047AB',
                            green: '#059669',
                            gray: '#8a8a8a'
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans SC"', 'Inter', 'sans-serif'],
                        serif: ['"Noto Serif SC"', 'serif'],
                        mono: ['"JetBrains Mono"', 'monospace'],
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/neo-brutalism.css">
    <link rel="stylesheet" href="styles/visual-design.css">
</head>
<body class="bg-grid min-h-screen">
    <!-- å¯¼èˆªæ  -->
    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <a href="index.html" class="logo">è®¡åˆ’æ</a>
                <ul class="nav-links">
                    <li><a href="index.html">é¦–é¡µ</a></li>
                    <li><a href="blog.html">æ–‡ç« </a></li>
                    <li><a href="visual-design.html" class="active">è®¤çŸ¥æ­¦å™¨</a></li>
                    <li><a href="coffee.html">å’–å•¡è§’</a></li>
                    <li><a href="about.html">å…³äº</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- é¡µé¢å¤´éƒ¨ -->
    <section class="visual-design-header">
        <div class="max-w-7xl mx-auto px-4 md:px-8">
            <h1 class="page-title">ğŸ§  108ç§è®¤çŸ¥æ­¦å™¨</h1>
            <p class="page-subtitle">è®¤çŸ¥å‡çº§å·¥å…·ç®±ï¼ŒåŠ©ä½ çªç ´æ€ç»´å±€é™</p>

            <!-- è§†å›¾åˆ‡æ¢å™¨ -->
            <div class="view-switcher">
                <button class="view-btn" data-view="gallery">
                    <i class="ri-gallery-line"></i>
                    <span>å¡ç‰Œç”»å»Š</span>
                </button>
                <button class="view-btn active" data-view="scenario">
                    <i class="ri-compass-3-line"></i>
                    <span>åº”ç”¨åœºæ™¯</span>
                </button>
                <button class="view-btn" data-view="quadrant">
                    <i class="ri-grid-line"></i>
                    <span>èƒ½åŠ›è±¡é™</span>
                </button>
                <button class="view-btn" data-view="bauhaus">
                    <i class="ri-shape-line"></i>
                    <span>åŒ…è±ªæ–¯</span>
                </button>
                <button class="view-btn" data-view="journal">
                    <i class="ri-book-open-line"></i>
                    <span>å­¦æœ¯æœŸåˆŠ</span>
                </button>
            </div>
        </div>
    </section>

    <!-- å¡ç‰Œç”»å»Šè§†å›¾ -->
    <section class="gallery-view view-container" id="gallery-view">
        <div class="max-w-7xl mx-auto px-4 md:px-8">
            <div class="gallery-grid" id="gallery-grid">
                <div class="loading-state" style="text-align: center; padding: 4rem 0;">
                    <p style="color: #666;">æ­£åœ¨åŠ è½½è®¤çŸ¥æ­¦å™¨...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- åœºæ™¯è§†å›¾ -->
    <section class="scenario-view view-container active" id="scenario-view">
        <div class="max-w-7xl mx-auto px-4 md:px-8">
            <!-- åœºæ™¯å¯¼èˆª -->
            <div class="scenario-nav">
                <button class="scenario-btn active" data-scenario="all">
                    <span class="scenario-icon">ğŸ¯</span>
                    <span class="scenario-name">å…¨éƒ¨</span>
                </button>
                <button class="scenario-btn" data-scenario="career">
                    <span class="scenario-icon">ğŸ’¼</span>
                    <span class="scenario-name">èŒåœºæ™‹å‡</span>
                </button>
                <button class="scenario-btn" data-scenario="business">
                    <span class="scenario-icon">ğŸš€</span>
                    <span class="scenario-name">åˆ›ä¸š/å‰¯ä¸š</span>
                </button>
                <button class="scenario-btn" data-scenario="growth">
                    <span class="scenario-icon">ğŸ§ </span>
                    <span class="scenario-name">ä¸ªäººæˆé•¿</span>
                </button>
                <button class="scenario-btn" data-scenario="relationship">
                    <span class="scenario-icon">ğŸ‘¥</span>
                    <span class="scenario-name">äººé™…å…³ç³»</span>
                </button>
                <button class="scenario-btn" data-scenario="efficiency">
                    <span class="scenario-icon">âš¡</span>
                    <span class="scenario-name">æ•ˆç‡æå‡</span>
                </button>
                <button class="scenario-btn" data-scenario="content">
                    <span class="scenario-icon">ğŸ“–</span>
                    <span class="scenario-name">å†…å®¹åˆ›ä½œ</span>
                </button>
            </div>

            <!-- æ­¦å™¨ç½‘æ ¼ -->
            <div class="projects-grid" id="scenario-grid">
                <div class="loading-state" style="text-align: center; padding: 4rem 0;">
                    <p style="color: #666;">æ­£åœ¨åŠ è½½è®¤çŸ¥æ­¦å™¨...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- è±¡é™è§†å›¾ -->
    <section class="quadrant-view view-container" id="quadrant-view">
        <div class="max-w-7xl mx-auto px-4 md:px-8">
            <div class="quadrant-grid">
                <!-- é¢†å¯¼è€…è±¡é™ -->
                <div class="quadrant quadrant-leader" data-quadrant="leader">
                    <div class="quadrant-header">
                        <h3 class="quadrant-title">é¢†å¯¼è€…è±¡é™</h3>
                        <p class="quadrant-subtitle">é¢†å¯¼åŠ› Â· è§„åˆ’åŠ›</p>
                        <span class="quadrant-count">0 ä¸ªæ­¦å™¨</span>
                    </div>
                    <div class="quadrant-weapons" id="leader-weapons"></div>
                </div>

                <!-- æ€æƒ³è€…è±¡é™ -->
                <div class="quadrant quadrant-thinker" data-quadrant="thinker">
                    <div class="quadrant-header">
                        <h3 class="quadrant-title">æ€æƒ³è€…è±¡é™</h3>
                        <p class="quadrant-subtitle">æ€è€ƒåŠ› Â· è‡ªè¯†åŠ›</p>
                        <span class="quadrant-count">0 ä¸ªæ­¦å™¨</span>
                    </div>
                    <div class="quadrant-weapons" id="thinker-weapons"></div>
                </div>

                <!-- æ‰§è¡Œè€…è±¡é™ -->
                <div class="quadrant quadrant-executor" data-quadrant="executor">
                    <div class="quadrant-header">
                        <h3 class="quadrant-title">æ‰§è¡Œè€…è±¡é™</h3>
                        <p class="quadrant-subtitle">æ‰§è¡ŒåŠ› Â· å¤ç›˜åŠ›</p>
                        <span class="quadrant-count">0 ä¸ªæ­¦å™¨</span>
                    </div>
                    <div class="quadrant-weapons" id="executor-weapons"></div>
                </div>

                <!-- åˆ›é€ è€…è±¡é™ -->
                <div class="quadrant quadrant-creator" data-quadrant="creator">
                    <div class="quadrant-header">
                        <h3 class="quadrant-title">åˆ›é€ è€…è±¡é™</h3>
                        <p class="quadrant-subtitle">è¥é”€åŠ› Â· æ•…äº‹åŠ›</p>
                        <span class="quadrant-count">0 ä¸ªæ­¦å™¨</span>
                    </div>
                    <div class="quadrant-weapons" id="creator-weapons"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- åŒ…è±ªæ–¯è¿›åŒ–è§†å›¾ -->
    <section class="bauhaus-view view-container" id="bauhaus-view">
        <div class="max-w-7xl mx-auto px-4 md:px-8">
            <div class="bauhaus-grid" id="bauhaus-grid">
                <div class="loading-state" style="text-align: center; padding: 4rem 0;">
                    <p style="color: #666;">æ­£åœ¨åŠ è½½è®¤çŸ¥æ­¦å™¨...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- å­¦æœ¯æœŸåˆŠè§†å›¾ -->
    <section class="journal-view view-container" id="journal-view">
        <div class="max-w-7xl mx-auto px-4 md:px-8">
            <div class="journal-container">
                <div class="journal-header">
                    <h2 class="journal-title">Journal of Cognitive Weapons</h2>
                    <p class="journal-meta">Volume 1 Â· 2025 Edition Â· 108 Articles</p>
                </div>
                <div class="journal-table" id="journal-table">
                    <div class="loading-state" style="text-align: center; padding: 4rem 0;">
                        <p style="color: #666;">æ­£åœ¨åŠ è½½è®¤çŸ¥æ­¦å™¨...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- é¡µè„š -->
    <footer class="border-t-2 border-brand-black mt-16 py-8">
        <div class="max-w-7xl mx-auto px-4 md:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="font-mono text-xs text-gray-500">&copy; 2025 è®¡åˆ’æ. All rights reserved.</p>
                <div class="flex gap-6">
                    <a href="https://zhihu.com" target="_blank" class="font-mono text-xs font-bold hover:text-brand-accent transition-colors">çŸ¥ä¹</a>
                    <a href="https://github.com" target="_blank" class="font-mono text-xs font-bold hover:text-brand-accent transition-colors">GitHub</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // æ­¦å™¨åˆ†ç±»æ˜ å°„æ•°æ®
        const weaponMetadata = {
            scenarios: {
                'career': [31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54],
                'business': [68, 69, 70, 71, 72, 73, 74, 75, 102, 103, 104, 105, 106, 107, 108],
                'growth': [1, 2, 3, 4, 5, 6, 7, 8, 23, 24, 25, 26, 27, 28, 29, 30, 76, 77, 78, 79, 80, 81, 82],
                'relationship': [31, 34, 35, 36, 37, 55, 56, 57, 58, 59, 96, 97, 98, 99, 100, 101],
                'efficiency': [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 61, 62, 63, 64, 65, 66, 67],
                'content': [68, 72, 73, 74, 90, 91, 92, 93, 94, 95]
            },
            quadrants: {
                'leader': [31, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 61, 62, 63, 64, 65, 66, 67],
                'thinker': [23, 24, 25, 26, 27, 28, 29, 30, 55, 56, 57, 58, 59, 60, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89],
                'executor': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22],
                'creator': [68, 69, 70, 71, 72, 73, 74, 75, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108]
            }
        };

        let allWeapons = [];
        let currentView = 'scenario';
        let currentScenario = 'all';

        // åŠ¨æ€åŠ è½½108ç§è®¤çŸ¥æ­¦å™¨
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // åŠ è½½JSONæ•°æ®
                const response = await fetch('data/cognitive-weapons.json');
                allWeapons = await response.json();

                // åˆå§‹åŒ–æ‰€æœ‰è§†å›¾
                renderGalleryView(allWeapons);
                renderScenarioView(allWeapons);
                renderQuadrantView(allWeapons);
                renderBauhausView(allWeapons);
                renderJournalView(allWeapons);

                // ç»‘å®šè§†å›¾åˆ‡æ¢äº‹ä»¶
                document.querySelectorAll('.view-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const view = this.dataset.view;
                        switchView(view);
                    });
                });

                // ç»‘å®šåœºæ™¯ç­›é€‰äº‹ä»¶
                document.querySelectorAll('.scenario-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const scenario = this.dataset.scenario;
                        filterByScenario(scenario);

                        // æ›´æ–°æŒ‰é’®çŠ¶æ€
                        document.querySelectorAll('.scenario-btn').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                    });
                });

                console.log(`âœ… æˆåŠŸåŠ è½½ ${allWeapons.length} ä¸ªè®¤çŸ¥æ­¦å™¨`);
            } catch (error) {
                console.error('åŠ è½½è®¤çŸ¥æ­¦å™¨æ•°æ®å¤±è´¥:', error);
            }
        });

        // è§†å›¾åˆ‡æ¢
        function switchView(view) {
            currentView = view;

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.view === view);
            });

            // åˆ‡æ¢è§†å›¾å®¹å™¨
            document.querySelectorAll('.view-container').forEach(container => {
                container.classList.remove('active');
            });

            document.getElementById(`${view}-view`).classList.add('active');
        }

        // æ¸²æŸ“åœºæ™¯è§†å›¾
        function renderScenarioView(weapons) {
            const grid = document.getElementById('scenario-grid');
            grid.innerHTML = '';

            weapons.forEach((weapon, index) => {
                const card = createWeaponCard(weapon, index);
                grid.appendChild(card);
            });

            initRevealAnimation();
        }

        // æŒ‰åœºæ™¯ç­›é€‰
        function filterByScenario(scenario) {
            currentScenario = scenario;

            if (scenario === 'all') {
                renderScenarioView(allWeapons);
            } else {
                const scenarioWeaponIds = weaponMetadata.scenarios[scenario] || [];
                const filteredWeapons = allWeapons.filter(w => {
                    const id = parseInt(w.number);
                    return scenarioWeaponIds.includes(id);
                });
                renderScenarioView(filteredWeapons);
            }
        }

        // æ¸²æŸ“è±¡é™è§†å›¾
        function renderQuadrantView(weapons) {
            const quadrants = ['leader', 'thinker', 'executor', 'creator'];

            quadrants.forEach(quadrant => {
                const container = document.getElementById(`${quadrant}-weapons`);
                const quadrantWeaponIds = weaponMetadata.quadrants[quadrant] || [];

                const quadrantWeapons = weapons.filter(w => {
                    const id = parseInt(w.number);
                    return quadrantWeaponIds.includes(id);
                });

                container.innerHTML = '';
                quadrantWeapons.forEach(weapon => {
                    const item = document.createElement('a');
                    item.className = 'quadrant-weapon-item';
                    item.href = weapon.url;
                    item.innerHTML = `
                        <div class="quadrant-weapon-number">${weapon.number}</div>
                        <div class="quadrant-weapon-title">${weapon.cn_title}</div>
                    `;
                    container.appendChild(item);
                });

                // æ›´æ–°æ•°é‡
                const countEl = document.querySelector(`[data-quadrant="${quadrant}"] .quadrant-count`);
                if (countEl) {
                    countEl.textContent = `${quadrantWeapons.length} ä¸ªæ­¦å™¨`;
                }
            });
        }

        // åˆ›å»ºæ­¦å™¨å¡ç‰‡
        function createWeaponCard(weapon, index) {
            const card = document.createElement('article');
            card.className = 'project-card reveal';

            card.innerHTML = `
                <a href="${weapon.url}" class="project-link">
                    <div class="project-info">
                        <div class="project-number">${weapon.number}</div>
                        <h3 class="project-title">${weapon.cn_title}</h3>
                        <p class="project-description">${weapon.description}</p>
                    </div>
                </a>
            `;

            return card;
        }

        // åˆå§‹åŒ–æ»šåŠ¨æ˜¾ç¤ºåŠ¨ç”»
        function initRevealAnimation() {
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.reveal').forEach(el => {
                observer.observe(el);
            });
        }

        // æ¸²æŸ“å¡ç‰Œç”»å»Šè§†å›¾
        function renderGalleryView(weapons) {
            const grid = document.getElementById('gallery-grid');
            grid.innerHTML = '';

            weapons.forEach((weapon, index) => {
                const card = document.createElement('div');
                card.className = 'gallery-card reveal';

                card.innerHTML = `
                    <div class="gallery-card-inner">
                        <div class="gallery-card-front">
                            <div class="gallery-number">${weapon.number}</div>
                            <h3 class="gallery-title">${weapon.cn_title}</h3>
                            <p class="gallery-subtitle">${weapon.en_title}</p>
                            <div class="gallery-hint">
                                <i class="ri-arrow-left-right-line"></i>
                                <span>ç‚¹å‡»ç¿»è½¬</span>
                            </div>
                        </div>
                        <div class="gallery-card-back">
                            <p class="gallery-description">${weapon.description}</p>
                            <a href="${weapon.url}" class="gallery-link">
                                æŸ¥çœ‹è¯¦æƒ… <i class="ri-arrow-right-line"></i>
                            </a>
                        </div>
                    </div>
                `;

                // æ·»åŠ ç¿»è½¬äº‹ä»¶
                card.addEventListener('click', function() {
                    this.classList.toggle('flipped');
                });

                grid.appendChild(card);
            });

            initRevealAnimation();
        }

        // æ¸²æŸ“åŒ…è±ªæ–¯è¿›åŒ–è§†å›¾
        function renderBauhausView(weapons) {
            const grid = document.getElementById('bauhaus-grid');
            grid.innerHTML = '';

            weapons.forEach((weapon, index) => {
                const card = document.createElement('article');
                card.className = 'bauhaus-card reveal';

                // 4è‰²å¾ªç¯
                const colorIndex = index % 4;
                const colors = ['orange', 'blue', 'yellow', 'black'];
                card.setAttribute('data-color', colors[colorIndex]);

                card.innerHTML = `
                    <a href="${weapon.url}" class="bauhaus-link">
                        <div class="bauhaus-number">${weapon.number}</div>
                        <div class="bauhaus-content">
                            <h3 class="bauhaus-title">${weapon.cn_title}</h3>
                            <p class="bauhaus-description">${weapon.description}</p>
                        </div>
                        <div class="bauhaus-decoration"></div>
                    </a>
                `;

                grid.appendChild(card);
            });

            initRevealAnimation();
        }

        // æ¸²æŸ“å­¦æœ¯æœŸåˆŠè§†å›¾
        function renderJournalView(weapons) {
            const table = document.getElementById('journal-table');
            table.innerHTML = '';

            // æŒ‰è±¡é™åˆ†ç»„
            const quadrants = {
                'executor': { name: 'æ‰§è¡Œè€…è±¡é™', weapons: [] },
                'thinker': { name: 'æ€æƒ³è€…è±¡é™', weapons: [] },
                'leader': { name: 'é¢†å¯¼è€…è±¡é™', weapons: [] },
                'creator': { name: 'åˆ›é€ è€…è±¡é™', weapons: [] }
            };

            weapons.forEach(weapon => {
                const id = parseInt(weapon.number);
                for (const [key, data] of Object.entries(weaponMetadata.quadrants)) {
                    if (data.includes(id)) {
                        quadrants[key].weapons.push(weapon);
                        break;
                    }
                }
            });

            // æ¸²æŸ“æ¯ä¸ªè±¡é™çš„è¡¨æ ¼
            for (const [key, data] of Object.entries(quadrants)) {
                if (data.weapons.length === 0) continue;

                const section = document.createElement('div');
                section.className = 'journal-section reveal';

                section.innerHTML = `
                    <h3 class="journal-section-title">${data.name}</h3>
                    <table class="journal-table-content">
                        <thead>
                            <tr>
                                <th class="journal-col-number">No.</th>
                                <th class="journal-col-title">Title</th>
                                <th class="journal-col-description">Abstract</th>
                                <th class="journal-col-link">Citation</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${data.weapons.map(weapon => `
                                <tr class="journal-row">
                                    <td class="journal-cell-number">${weapon.number}</td>
                                    <td class="journal-cell-title">
                                        <div class="journal-title-cn">${weapon.cn_title}</div>
                                        <div class="journal-title-en">${weapon.en_title}</div>
                                    </td>
                                    <td class="journal-cell-description">${weapon.description}</td>
                                    <td class="journal-cell-link">
                                        <a href="${weapon.url}" class="journal-cite-link">
                                            [${weapon.number}]
                                        </a>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;

                table.appendChild(section);
            }

            initRevealAnimation();
        }
    </script>
</body>
</html>
